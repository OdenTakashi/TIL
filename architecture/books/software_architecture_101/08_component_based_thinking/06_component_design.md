# ソフトウェアアーキテクチャの基礎 -エンジアリングに基づく体系的なアプローチ-
- Mark Richards, Near Ford 著
- 島田浩二 訳

## コンポーネント設計
- コンポーネントの正しく設計する方法はない
  - 多種多様であり、トレードオフが存在する
  - 要件を受け取る
  - どれくらいの粗い粒度でアプリを構成させるかを決定する

### コンポーネントの発見
- 技術分割 or ドメイン分割
  - 問題空間を異なるアーキテクチャ特性を考慮した粗い塊に分割する

#### エンティティの罠
- DB上の関係をアプリケーションワークフローとして判別すること
  - エンティティを抽出して、そのCRUDを考えてしまう
    => ORMでしかない
  - 実際のワークフローについての理解が足りない
  - 粗い粒度になりがち、構造化の面でなにもガイダンスができていない
    - オークションマネージャーというエンティティに対してORMとして構築すると、これに対するCRUDとなってしまう
      - もっと分割できる.. 入札管理、落札処理のように
  - この段階ではORM的に考えてはいけない

#### アクター/アクションアプローチ
- 一般的
- アクティビティを実行するアクターと実際のアクションを特定して、コンポーネントとマッピングする
- 色んなタイプのシステムに適している
- 明確なロールとそれらが実行できるアクションの種類を形作る時にうまく機能する

#### イベントストーミング
- DDDを出自として、マイクロサービスと共に普及
- プロジェクトがメッセージとイベントを利用してコンポーネント間で通信すると捉える
- 要件や特定ロールで発生するイベントを検討、そのイベントとメッセージハンドラを中心にコンポーネントを構築
- アーキテクトが使用されるメッセージを定義するのに役立つ
- 分散アーキテクチャと相性がいい
- コンポーネントがイベントを受け取り処理をする、疎結合になる

#### ワークフローアプローチ
- DDDと似ているがメッセージングを利用しない点が異なる
- ロールを明らかにして、それが従事するワークフローを中心に構築する
